<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <joined-subclass extends="model.Person" lazy="false" name="model.Employee"
                     table="EMPLOYEES" >
        <key foreign-key="FK_EMP_PER">
            <column name="EMP_ID"/>
        </key>
        <many-to-one cascade="save-update" class="model.Address" 
                     column="ADR_ID" foreign-key="FK_EMP_ADR" 
                     name="address" unique="false"/>

        <property name="job" type="java.lang.String"/>

        <many-to-one cascade="save-update" class="model.Department" column="DEPT_ID"
                     foreign-key="FK_EMP_DEP" name="department" unique="false" />
        
        <set lazy="true" name="children" cascade="save-update">
            <key foreign-key="FK_EMP_CHILDREN">
                <column name="EMP_ID"/>
            </key>
            <one-to-many class="model.Child"/>
        </set>
        
        <set cascade="save-update" lazy="true" inverse="false" name="projects" 
             table="EMP_PROJ">
            <key foreign-key="FK_EMP_PROJ">
                <column name="EMP_ID"/>
            </key>
            <many-to-many class="model.Project" column="PROJ_ID"/>
        </set>
    
    </joined-subclass>
</hibernate-mapping>
